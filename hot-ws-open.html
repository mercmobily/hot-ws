<link rel="import" href="../polymer/polymer.html">

<!--

Small element that opens a websocket using Hotplate's cometClient

@demo demo/index.html
-->

<dom-module id="hot-ws-open">
  <template>
  </template>

  <script>
    Polymer({
      is: 'hot-ws-open',

      properties: {

        url: {
          type: String,
        },

        reopenDelay: {
          type: String,
        },

        resendDelay: {
          type: String,
        },

        pingInterval: {
          type: String
        }

      },

      attached: function(){
        setTimeout( function(){
          Hotplate.cometClient.data.url = this.url;
          Hotplate.cometClient.data.reopenDelay = this.reopenDelay;
          Hotplate.cometClient.data.resendDelay = this.reopenDelay;
          Hotplate.cometClient.data.pingInterval = this.pingInterval;
          Hotplate.cometClient.open();
        }.bind( this ),1000 );
      }

    })
  </script>
</dom-module>
