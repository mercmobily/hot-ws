<link rel="import" href="../polymer/polymer.html">

<!--

-->

<script>

if( typeof Hotplate == 'undefined' ) Hotplate = {};
Hotplate.HotWsBehavior = {

  properties: {

    wsData: {
      type: Object,
      value: Hotplate.cometClient.data,
      readOnly: true,
    },

    wsMethods: {
      type: Object,
      value: Hotplate.cometClient,
      readOnly: true,
    },
  },


  // Function to be overridden by element to receive messages
  wsMessage: function( message ){
  },

  /* Methods wrapping */

  wsSendLocal: function( message ){
    this.wsMethods.sendLocal( message );
  },

  wsSendWs: function( message ){
    this.wsMethods.sendWs( message );
  },

  /* Adding element that implements the behaviour to the list of subscrinbers automatically*/

  attached: function() {
    this.wsMethods.addSubscriber( this );
  },
  detached: function() {
    this.wsMethods.deleteSubscriber( this );
  },
};

</script>
